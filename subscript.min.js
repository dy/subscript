let e,r,t=(t,...n)=>(r=t.raw?String.raw(t,...n):t,e=0,!(t=f())||e<r.length?a():e=>t(e||{})),n=e=>e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122||36==e||95==e||e>=192&&215!=e&&247!=e,a=(t="Bad syntax")=>{throw Error(t+" `"+r[e]+"` at "+e)},o=(t=1,n=e,a)=>{if("number"==typeof t)e+=t;else if(a=t.trim&&t.length)e+=s(a)==t?a:0;else for(;t(l());)e++;return r.slice(n,e)},l=(t=0)=>r.charCodeAt(e+t),s=(t=1)=>r.substr(e,t),f=(r=0,n,o,l,s,f,p)=>{for(;(o=t.space())&&(s=(f=c[o])&&f(l,r)||!l&&(h(o)||i(o)||a()));)l=s;return n&&(o!=n?a("Unclosed paren"):e++),l};t.space=r=>{for(;(r=l())<=32;)e++;return r};let p=t.literal=[],h=(r,t=0,n,a=e)=>{for(;t<p.length;)if(n=p[t++](r),e>a)return()=>n},i=t.id=(e,r=o(n))=>r?e=>e?e[r]:r:()=>d,c=[],g=t.operator=(r,t=0,a=0,o,p=r.map&&g(r[1],(r=r[0],0)),h=r.charCodeAt(0),i=r.length,u=a&&c[h],d=a.length,m=r.toUpperCase()!==r)=>(o=d>1?(r,n)=>r&&(e+=i,n=f(p?0:t,p),d>2?e=>a(r,n,e):r.length||n.length?e=>a(r(e),n(e)):(r=a(r(),n()),()=>r)):d?r=>r&&(e+=i,e=>a(r(e))):r=>!r&&(e+=i,r=f(p?0:t-1,p),e=>a(r(e))),c[h]=(e,a)=>a<t&&(i<2||s(i)==r)&&(!m||!n(l(i)))&&o(e)||u&&u(e,a),h),u=class extends Array{},d=new u,m=e=>e instanceof u?e:u.from([e]);t.literal.push((e=>(e=o((e=>e>47&&e<58||46==e)))&&((69==l()||101==l())&&(e+=o(2)+o((e=>e>=48&&e<=57))),+e)),((e,r,t)=>34==e&&(o(),t=o((r=>r-e)),o(),t)));for(let e,r=0,n=[",",1,(r,t)=>(r=m(r==d?e:r)).push(...m(t==d?e:t))&&r,"|",6,(e,r)=>e|r,"||",4,(e,r)=>e||r,"&",8,(e,r)=>e&r,"&&",5,(e,r)=>e&&r,"^",7,(e,r)=>e^r,"==",9,(e,r)=>e==r,"!=",9,(e,r)=>e!=r,">",10,(e,r)=>e>r,">=",10,(e,r)=>e>=r,">>",11,(e,r)=>e>>r,">>>",11,(e,r)=>e>>>r,"<",10,(e,r)=>e<r,"<=",10,(e,r)=>e<=r,"<<",11,(e,r)=>e<<r,"+",12,(e,r)=>e+r,"+",15,(r=e)=>+r,"++",15,(r=e)=>++r,"++",16,e=>e++,"-",12,(e,r)=>e-r,"-",15,(r=e)=>-r,"--",15,(r=e)=>--r,"--",16,e=>e++,"!",15,(r=e)=>!r,"*",13,(e,r)=>e*r,"/",13,(e,r)=>e/r,"%",13,(e,r)=>e%r,["[","]"],18,(e,r)=>e[r],".",18,(e,r,t)=>e(t)[r()],["(",")"],18,(e,r)=>r instanceof u?e(...r):e(r),["(",")"],19,(r=e)=>r instanceof u?r.pop():r];r<n.length;)t.operator(n[r++],n[r++],n[r++]);export{t as default};