let e,r,t=(t,...l)=>(r=t.raw?String.raw(t,...l):t,e=0,t=h(),e<r.length?a():t||a()),l=e=>e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122||36==e||95==e||e>=192&&215!=e&&247!=e,a=(t="Bad syntax")=>{throw Error(t+" `"+r[e]+"` at "+e)},n=(t=1,l=e,a)=>{if("number"==typeof t)e+=t;else if(a=t.trim&&t.length)e+=p(a)==t?a:0;else for(;t(o());)e++;return r.slice(l,e)},o=(t=0)=>r.charCodeAt(e+t),p=(t=1)=>r.substr(e,t),h=(r=0,l,n,o,p,h,s)=>{for(;(n=t.space())&&(p=(h=i[n])&&h(o,r)||!o&&(f(n)||g(n)||a()));)o=p;return l&&(n!=l?a("Unclosed paren"):e++),o};t.space=r=>{for(;(r=o())<=32;)e++;return r};let s=t.literal=[],f=(r,t=0,l,a=e)=>{for(;t<s.length;)if(l=s[t++](r),e>a)return()=>l},g=t.id=(e,r=n(l))=>e=>e?e[r]:r,i=[],u=t.operator=(r,t=0,a=0,n,s=r.map&&u(r[1],(r=r[0],0)),f=r.charCodeAt(0),g=r.length,c=a&&i[f],d=a.length,m=r.toUpperCase()!==r)=>(n=d>1?(r,l)=>r&&(e+=g,l=h(s?0:t,s),d>2?e=>a(r,l,e):r.length||l.length?e=>a(r(e),l(e)):(r=a(r(),l()),()=>r)):d?r=>r&&(e+=g,e=>a(r(e))):r=>!r&&(e+=g,r=h(s?0:t-1,s),e=>a(r(e))),i[f]=(e,a)=>a<t&&(g<2||p(g)==r)&&(!m||!l(o(g)))&&n(e)||c&&c(e,a),f);t.literal.push((e=>(e=n((e=>e>47&&e<58||46==e)))&&((69==o()||101==o())&&(e+=n(2)+n((e=>e>=48&&e<=57))),+e)),((e,r,t)=>34==e&&(n(),t=n((r=>r-e)),n(),t)));for(let e,r,l=0,a=[",",1,(r,t,l,a=e)=>a?(e=0,(a=1==a?[r(l)]:a).push(t(l)),e=a):t(l),"|",6,(e,r)=>e|r,"||",4,(e,r)=>e||r,"&",8,(e,r)=>e&r,"&&",5,(e,r)=>e&&r,"^",7,(e,r)=>e^r,"==",9,(e,r)=>e==r,"!=",9,(e,r)=>e!=r,">",10,(e,r)=>e>r,">=",10,(e,r)=>e>=r,">>",11,(e,r)=>e>>r,">>>",11,(e,r)=>e>>>r,"<",10,(e,r)=>e<r,"<=",10,(e,r)=>e<=r,"<<",11,(e,r)=>e<<r,"+",12,(e,r)=>e+r,"+",15,(e=r)=>+e,"++",15,(e=r)=>++e,"++",16,e=>e++,"-",12,(e,r)=>e-r,"-",15,(e=r)=>-e,"--",15,(e=r)=>--e,"--",16,e=>e++,"!",15,(e=r)=>!e,"*",13,(e,r)=>e*r,"/",13,(e,r)=>e/r,"%",13,(e,r)=>e%r,["[","]"],18,(e,r)=>e[r],".",18,(e,r,t)=>e(t)[r()],["(",")"],18,(r,t,l,a=e)=>(r=r(l),e=1,t=t(l),t=e.map?r.apply(l,t):r(t),e=a,t),["(",")"],19,(e=r)=>e];l<a.length;)t.operator(a[l++],a[l++],a[l++]);export{t as default};