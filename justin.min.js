let e,r,t,l=(t="Bad syntax",l=r[e])=>{throw SyntaxError(t+" `"+l+"` at "+e)},a=(t=1,l=e,a)=>{if("number"==typeof t)e+=t;else for(;t(r.charCodeAt(e));)e++;return r.slice(l,e)},n=(r=0,t,a,n,d,i)=>{for(;(a=o())&&(d=(i=f[a])&&i(n,r)||!n&&f[0]());)n=d;return t&&(a==t?e++:l()),n},o=t=>{for(;(t=r.charCodeAt(e))<=32;)e++;return t},d=e=>e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122||36==e||95==e||e>=192&&215!=e&&247!=e,f=[e=>a(d)],i=(t,l,a=32,n=t.charCodeAt(0),o=t.length,i=f[n],u=t.toUpperCase()!==t)=>f[n]=(n,f,c=e)=>f<a&&(o<2||r.substr(e,o)==t)&&(!u||!d(r.charCodeAt(e+o)))&&(e+=o,l(n,f))||(e=c,i&&i(n,f)),u=(e,r)=>t=>r(e.of?e.of(t):t,e.id(t)),c=(e,r)=>{for(;e[0];)r(...e.splice(0,3))},s=(e,r,t)=>i(e,r.length>1?(e,l)=>e&&(l=n(t))&&(e.length||l.length?t=>r(e(t),l(t)):(e=r(e(),l()),()=>e)):e=>!e&&(e=n(t-1))&&(t=>r(e(t))),t),h=e=>e>=48&&e<=57,p=t=>(t&&l("Unexpected number"),t=a((e=>46==e||h(e))),(69==r.charCodeAt(e)||101==r.charCodeAt(e))&&(t+=a(2)+a(h)),(t=+t)!=t?l("Bad number"):()=>t);for(let e=48;e<=57;)f[e++]=p;f[0]=(e=a(d),r)=>e?((r=r=>r[e]).id=()=>e,r):null,c(["|",(e,r)=>e|r,6,"||",(e,r)=>e||r,4,"&",(e,r)=>e&r,8,"&&",(e,r)=>e&&r,5,"^",(e,r)=>e^r,7,"==",(e,r)=>e==r,9,"!=",(e,r)=>e!=r,9,">",(e,r)=>e>r,10,">=",(e,r)=>e>=r,10,">>",(e,r)=>e>>r,11,">>>",(e,r)=>e>>>r,11,"<",(e,r)=>e<r,10,"<=",(e,r)=>e<=r,10,"<<",(e,r)=>e<<r,11,"+",(e,r)=>e+r,12,"+",e=>+e,15,"-",(e,r)=>e-r,12,"-",e=>-e,15,"!",e=>!e,15,"*",(e,r)=>e*r,13,"/",(e,r)=>e/r,13,"%",(e,r)=>e%r,13],s),c(['"',e=>(e=e?l("Unexpected string"):a((e=>e-34)),a()||l("Bad string"),()=>e),,".",(e,r)=>e&&(o(),r=a(d)||l(),t=t=>e(t)[r],t.id=()=>r,t.of=e,t),18,".",e=>!e&&(a(-1),p()),,"[",(e,r,t)=>e&&(r=n(0,93)||l(),(t=t=>e(t)[r(t)]).id=r,t.of=e,t),18,"(",(e,r,t)=>(r=n(0,41),e?t=>e(t).apply(e.of?.(t),r?r.all?r.all(t):[r(t)]:[]):r||l()),18,",",(e,r,t=n(1),a=(r=>(e(r),t(r))))=>(t?a.all=e.all?r=>[...e.all(r),t(r)]:r=>[e(r),t(r)]:l("Skipped argument"),a),1,"++",e=>u(e||n(14),e?(e,r)=>e[r]++:(e,r)=>++e[r]),15,"--",e=>u(e||n(14),e?(e,r)=>e[r]--:(e,r)=>--e[r]),15],i);var g=t=>(t=t.trim())?(t=>(e=0,r=t,!(t=n())||r[e]?l():t))(t):e=>{};let C={n:"\n",r:"\r",t:"\t",b:"\b",f:"\f",v:"\v"},A=t=>(n,o,d="")=>{for(n&&l("Unexpected string");(o=r.charCodeAt(e))-t;)92===o?(a(),o=a(),d+=C[o]||o):d+=a();return a()||l("Bad string"),()=>d};c(["===",(e,r)=>e===r,9,"!==",(e,r)=>e!==r,9,"~",e=>~e,15,":",(e,r)=>[e,r],3.1,"?",(e,r)=>e?r[0]:r[1],3,"??",(e,r)=>e??r,6,"in",(e,r)=>e in r,10],s),c(['"',A(34),,"'",A(39),,"/*",(t,l)=>(a((t=>42!==t&&47!==r.charCodeAt(e+1))),a(2),t||n(l)),,"//",(e,r)=>(a((e=>e>=32)),e||n(r)),,"null",e=>e?l():()=>null,,"true",e=>e?l():()=>!0,,"false",e=>e?l():()=>!1,,"undefined",e=>e?l():()=>{},,";",e=>n()||(()=>{}),,"**",(e,r,t=n(13))=>r=>e(r)**t(r),14,"?.",e=>e&&(r=>e(r)||(()=>{})),,"?.",(e,r)=>(o(),(r=a(d))&&(t=>e(t)?.[r])),,"[",e=>!e&&((e=n(0,93))?e.all?r=>e.all(r):r=>[e(r)]:e=>[]),,"{",(e,r)=>!e&&((e=n(0,125))?t=>(r=(e.all||e)(t),Object.fromEntries(e.all?r:[r])):e=>({})),,":",(e,r,t)=>(t=n(1.1)||l(),e=e.id||e,r=>[e(r),t(r)]),1.1],i);export{g as default,c as each3,s as operator};