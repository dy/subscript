let e,t,r,l,a,n=(l,a)=>(e=0,r=[],t=l.trim(),!(l=t?f():e=>{})||t[e]?o():a=e=>l(e||{}),a.args=r,a),d=e=>e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122||36==e||95==e||e>=192&&215!=e&&247!=e,o=(r="Bad syntax",l=t[e])=>{throw SyntaxError(r+" `"+l+"` at "+e)},i=(r=1,l=e,a)=>{if("number"==typeof r)e+=r;else for(;r(t.charCodeAt(e));)e++;return t.slice(l,e)},f=(t=0,r,l,a,n,d)=>{for(;(l=p())&&(n=(d=s[l])&&d(a,t)||!a&&c());)a=n;return r&&(l==r?e++:o()),a},p=r=>{for(;(r=t.charCodeAt(e))<=32;)e++;return r},c=(e=i(d),t)=>e?(t=t=>t[e],r.push(e),t.id=()=>e,t):0,s=[],h=(r,l,a=32,n=r.charCodeAt(0),o=r.length,i=s[n],f=r.toUpperCase()!==r)=>s[n]=(n,p,c=e)=>p<a&&(o<2||t.substr(e,o)==r)&&(!f||!d(t.charCodeAt(e+o)))&&(e+=o,l(n,p))||(e=c,i&&i(n,p)),u=e=>e>=48&&e<=57,g=r=>(r&&o("Unexpected number"),r=i((e=>46==e||u(e))),(69==t.charCodeAt(e)||101==t.charCodeAt(e))&&(r+=i(2)+i(u)),(r=+r)!=r?o("Bad number"):()=>r),x=(e,t)=>r=>t(e.of?e.of(r):r,e.id(r)),C=(e,t)=>{for(;e[0];)t(...e.splice(0,3))},A=(e,t,r)=>h(e,t.length>1?(e,l)=>e&&(l=f(r))&&(e.length||l.length?r=>t(e(r),l(r)):(e=t(e(),l()),()=>e)):t.length?e=>e&&(r=>t(e(r))):e=>!e&&(e=f(r-1))&&(r=>t(e(r))),r);for(l=48;l<=57;)s[l++]=g;C(["|",(e,t)=>e|t,6,"||",(e,t)=>e||t,4,"&",(e,t)=>e&t,8,"&&",(e,t)=>e&&t,5,"^",(e,t)=>e^t,7,"==",(e,t)=>e==t,9,"!=",(e,t)=>e!=t,9,">",(e,t)=>e>t,10,">=",(e,t)=>e>=t,10,">>",(e,t)=>e>>t,11,">>>",(e,t)=>e>>>t,11,"<",(e,t)=>e<t,10,"<=",(e,t)=>e<=t,10,"<<",(e,t)=>e<<t,11,"+",(e,t)=>e+t,12,"+",(e=0)=>+e,15,"-",(e,t)=>e-t,12,"-",(e=0)=>-e,15,"!",(e=0)=>!e,15,"*",(e,t)=>e*t,13,"/",(e,t)=>e/t,13,"%",(e,t)=>e%t,13],A),C(['"',e=>(e=e?o("Unexpected string"):i((e=>e-34)),i()||o("Bad string"),()=>e),,".",(e,t)=>(p(),t=i(d)||o(),a=r=>e(r)[t],a.id=()=>t,a.of=e,a),18,".",e=>!e&&g(i(-1)),,"[",(e,t,r)=>e&&(t=f(0,93)||o(),(r=r=>e(r)[t(r)]).id=t,r.of=e,r),18,"(",(e,t,r)=>(t=f(0,41),e?r=>e(r).apply(e.of?.(r),t?t.all?t.all(r):[t(r)]:[]):t||o()),18,",",(e,t,r=f(1),l=(t=>(e(t),r(t))))=>(r?l.all=e.all?t=>[...e.all(t),r(t)]:t=>[e(t),r(t)]:o("Skipped argument"),l),1,"++",e=>x(e||f(14),e?(e,t)=>e[t]++:(e,t)=>++e[t]),15,"--",e=>x(e||f(14),e?(e,t)=>e[t]--:(e,t)=>--e[t]),15],h);let U={n:"\n",r:"\r",t:"\t",b:"\b",f:"\f",v:"\v"},b=r=>(l,a,n="")=>{for(l&&o("Unexpected string");(a=t.charCodeAt(e))-r;)92===a?(i(),a=i(),n+=U[a]||a):n+=i();return i()||o("Bad string"),()=>n};C(["===",(e,t)=>e===t,9,"!==",(e,t)=>e!==t,9,"~",(e=0)=>~e,15,":",(e,t)=>[e,t],3.1,"?",(e,t)=>e?t[0]:t[1],3,"??",(e,t)=>e??t,6,"in",(e,t)=>e in t,10],A),C(['"',b(34),,"'",b(39),,"/*",(r,l)=>(i((r=>42!==r&&47!==t.charCodeAt(e+1))),i(2),r||f(l)),,"//",(e,t)=>(i((e=>e>=32)),e||f(t)),,"null",e=>e?o("Unexpected literal"):()=>null,,"true",e=>e?o("Unexpected literal"):()=>!0,,"false",e=>e?o("Unexpected literal"):()=>!1,,"undefined",e=>e?o("Unexpected literal"):()=>{},,";",e=>f()||(()=>{}),,"**",(e,t,r=f(13))=>t=>e(t)**r(t),14,"?.",e=>e&&(t=>e(t)||(()=>{})),,"?.",(e,t)=>(p(),(t=i(d))&&(r=>e(r)?.[t])),,"[",e=>!e&&((e=f(0,93))?e.all?t=>e.all(t):t=>[e(t)]:e=>[]),,"{",(e,t)=>!e&&((e=f(0,125))?r=>(t=(e.all||e)(r),Object.fromEntries(e.all?t:[t])):e=>({})),,":",(e,t,l)=>(l=f(1.1)||o(),e.id&&r.pop(),t=>[(e.id||e)(t),l(t)]),1.1],h);export{n as default,C as each3,A as operator};