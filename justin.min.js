let e,r,t,l=(l,n)=>(e=0,t=[],r=l.trim(),!(l=r?o():e=>{})||r[e]?a():n=e=>l(e||{}),n.args=t,n),a=(t="Bad syntax",l=r[e])=>{throw SyntaxError(t+" `"+l+"` at "+e)},n=(t=1,l=e,a)=>{if("number"==typeof t)e+=t;else for(;t(r.charCodeAt(e));)e++;return r.slice(l,e)},o=(r=0,t,l,n,o,f)=>{for(;(l=d())&&(o=(f=s[l])&&f(n,r)||!n&&i());)n=o;return t&&(l==t?e++:a()),n},d=t=>{for(;(t=r.charCodeAt(e))<=32;)e++;return t},f=e=>e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122||36==e||95==e||e>=192&&215!=e&&247!=e,i=(e=n(f),r)=>e?(r=r=>r[e],t.push(e),r.id=()=>e,r):0,s=[],p=(t,l,a=32,n=t.charCodeAt(0),o=t.length,d=s[n],i=t.toUpperCase()!==t)=>s[n]=(n,s,p=e)=>s<a&&(o<2||r.substr(e,o)==t)&&(!i||!f(r.charCodeAt(e+o)))&&(e+=o,l(n,s))||(e=p,d&&d(n,s)),u=e=>e>=48&&e<=57,c=t=>(t&&a("Unexpected number"),t=n((e=>46==e||u(e))),(69==r.charCodeAt(e)||101==r.charCodeAt(e))&&(t+=n(2)+n(u)),(t=+t)!=t?a("Bad number"):()=>t);for(let e=48;e<=57;)s[e++]=c;s[46]=r=>(e&&e--,c());let h,g=(e,r)=>t=>r(e.of?e.of(t):t,e.id(t)),C=(e,r)=>{for(;e[0];)r(...e.splice(0,3))},A=(e,r,t)=>p(e,r.length>1?(e,l)=>e&&(l=o(t))&&(e.length||l.length?t=>r(e(t),l(t)):(e=r(e(),l()),()=>e)):e=>!e&&(e=o(t-1))&&(t=>r(e(t))),t);C(["|",(e,r)=>e|r,6,"||",(e,r)=>e||r,4,"&",(e,r)=>e&r,8,"&&",(e,r)=>e&&r,5,"^",(e,r)=>e^r,7,"==",(e,r)=>e==r,9,"!=",(e,r)=>e!=r,9,">",(e,r)=>e>r,10,">=",(e,r)=>e>=r,10,">>",(e,r)=>e>>r,11,">>>",(e,r)=>e>>>r,11,"<",(e,r)=>e<r,10,"<=",(e,r)=>e<=r,10,"<<",(e,r)=>e<<r,11,"+",(e,r)=>e+r,12,"+",e=>+e,15,"-",(e,r)=>e-r,12,"-",e=>-e,15,"!",e=>!e,15,"*",(e,r)=>e*r,13,"/",(e,r)=>e/r,13,"%",(e,r)=>e%r,13],A),C(['"',e=>(e=e?a("Unexpected string"):n((e=>e-34)),n()||a("Bad string"),()=>e),,".",(e,r)=>e&&(d(),r=n(f)||a(),h=t=>e(t)[r],h.id=()=>r,h.of=e,h),18,"[",(e,r,t)=>e&&(r=o(0,93)||a(),(t=t=>e(t)[r(t)]).id=r,t.of=e,t),18,"(",(e,r,t)=>(r=o(0,41),e?t=>e(t).apply(e.of?.(t),r?r.all?r.all(t):[r(t)]:[]):r||a()),18,",",(e,r,t=o(1),l=(r=>(e(r),t(r))))=>(t?l.all=e.all?r=>[...e.all(r),t(r)]:r=>[e(r),t(r)]:a("Skipped argument"),l),1,"++",e=>g(e||o(14),e?(e,r)=>e[r]++:(e,r)=>++e[r]),15,"--",e=>g(e||o(14),e?(e,r)=>e[r]--:(e,r)=>--e[r]),15],p);let b={n:"\n",r:"\r",t:"\t",b:"\b",f:"\f",v:"\v"},m=t=>(l,o,d="")=>{for(l&&a("Unexpected string");(o=r.charCodeAt(e))-t;)92===o?(n(),o=n(),d+=b[o]||o):d+=n();return n()||a("Bad string"),()=>d};C(["===",(e,r)=>e===r,9,"!==",(e,r)=>e!==r,9,"~",e=>~e,15,":",(e,r)=>[e,r],3.1,"?",(e,r)=>e?r[0]:r[1],3,"??",(e,r)=>e??r,6,"in",(e,r)=>e in r,10],A),C(['"',m(34),,"'",m(39),,"/*",(t,l)=>(n((t=>42!==t&&47!==r.charCodeAt(e+1))),n(2),t||o(l)),,"//",(e,r)=>(n((e=>e>=32)),e||o(r)),,"null",e=>e?a():()=>null,,"true",e=>e?a():()=>!0,,"false",e=>e?a():()=>!1,,"undefined",e=>e?a():()=>{},,";",e=>o()||(()=>{}),,"**",(e,r,t=o(13))=>r=>e(r)**t(r),14,"?.",e=>e&&(r=>e(r)||(()=>{})),,"?.",(e,r)=>(d(),(r=n(f))&&(t=>e(t)?.[r])),,"[",e=>!e&&((e=o(0,93))?e.all?r=>e.all(r):r=>[e(r)]:e=>[]),,"{",(e,r)=>!e&&((e=o(0,125))?t=>(r=(e.all||e)(t),Object.fromEntries(e.all?r:[r])):e=>({})),,":",(e,r,l)=>(l=o(1.1)||a(),e.id&&t.pop(),r=>[(e.id||e)(r),l(r)]),1.1],p);export{l as default,C as each3,A as operator};