let e,t,r,l=(l,a)=>(e=0,r=[],t=l.trim(),!(l=t?o():e=>{})||t[e]?n():a=e=>l(e||{}),a.args=r,a),a=e=>e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122||36==e||95==e||e>=192&&215!=e&&247!=e,n=(r="Bad syntax",l=t[e])=>{throw SyntaxError(r+" `"+l+"` at "+e)},d=(r=1,l=e,a)=>{if("number"==typeof r)e+=r;else for(;r(t.charCodeAt(e));)e++;return t.slice(l,e)},o=(t=0,r,l,a,d,o)=>{for(;(l=i())&&(d=(o=p[l])&&o(a,t)||!a&&f());)a=d;return r&&(l==r?e++:n()),a},i=r=>{for(;(r=t.charCodeAt(e))<=32;)e++;return r},f=(e=d(a),t)=>e?(t=t=>t[e],r.push(e),t.id=()=>e,t):0,p=[],c=(r,l,n=32,d=r.charCodeAt(0),o=r.length,i=p[d],f=r.toUpperCase()!==r)=>p[d]=(d,p,c=e)=>p<n&&(o<2||t.substr(e,o)==r)&&(!f||!a(t.charCodeAt(e+o)))&&(e+=o,l(d,p))||(e=c,i&&i(d,p)),s=e=>e>=48&&e<=57,h=r=>(r&&n("Unexpected number"),r=d((e=>46==e||s(e))),(69==t.charCodeAt(e)||101==t.charCodeAt(e))&&(r+=d(2)+d(s)),(r=+r)!=r?n("Bad number"):()=>r);for(let e=48;e<=57;)p[e++]=h;p[46]=t=>(e&&e--,h());let u,g=(e,t)=>r=>t(e.of?e.of(r):r,e.id(r)),x=(e,t)=>{for(;e[0];)t(...e.splice(0,3))},C=(e,t,r)=>c(e,t.length>1?(e,l)=>e&&(l=o(r))&&(e.length||l.length?r=>t(e(r),l(r)):(e=t(e(),l()),()=>e)):t.length?e=>e&&(r=>t(e(r))):e=>!e&&(e=o(r-1))&&(r=>t(e(r))),r);x(["|",(e,t)=>e|t,6,"||",(e,t)=>e||t,4,"&",(e,t)=>e&t,8,"&&",(e,t)=>e&&t,5,"^",(e,t)=>e^t,7,"==",(e,t)=>e==t,9,"!=",(e,t)=>e!=t,9,">",(e,t)=>e>t,10,">=",(e,t)=>e>=t,10,">>",(e,t)=>e>>t,11,">>>",(e,t)=>e>>>t,11,"<",(e,t)=>e<t,10,"<=",(e,t)=>e<=t,10,"<<",(e,t)=>e<<t,11,"+",(e,t)=>e+t,12,"+",(e=0)=>+e,15,"-",(e,t)=>e-t,12,"-",(e=0)=>-e,15,"!",(e=0)=>!e,15,"*",(e,t)=>e*t,13,"/",(e,t)=>e/t,13,"%",(e,t)=>e%t,13],C),x(['"',e=>(e=e?n("Unexpected string"):d((e=>e-34)),d()||n("Bad string"),()=>e),,".",(e,t)=>e&&(i(),t=d(a)||n(),u=r=>e(r)[t],u.id=()=>t,u.of=e,u),18,"[",(e,t,r)=>e&&(t=o(0,93)||n(),(r=r=>e(r)[t(r)]).id=t,r.of=e,r),18,"(",(e,t,r)=>(t=o(0,41),e?r=>e(r).apply(e.of?.(r),t?t.all?t.all(r):[t(r)]:[]):t||n()),18,",",(e,t,r=o(1),l=(t=>(e(t),r(t))))=>(r?l.all=e.all?t=>[...e.all(t),r(t)]:t=>[e(t),r(t)]:n("Skipped argument"),l),1,"++",e=>g(e||o(14),e?(e,t)=>e[t]++:(e,t)=>++e[t]),15,"--",e=>g(e||o(14),e?(e,t)=>e[t]--:(e,t)=>--e[t]),15],c);let A={n:"\n",r:"\r",t:"\t",b:"\b",f:"\f",v:"\v"},U=r=>(l,a,o="")=>{for(l&&n("Unexpected string");(a=t.charCodeAt(e))-r;)92===a?(d(),a=d(),o+=A[a]||a):o+=d();return d()||n("Bad string"),()=>o};x(["===",(e,t)=>e===t,9,"!==",(e,t)=>e!==t,9,"~",(e=0)=>~e,15,":",(e,t)=>[e,t],3.1,"?",(e,t)=>e?t[0]:t[1],3,"??",(e,t)=>e??t,6,"in",(e,t)=>e in t,10],C),x(['"',U(34),,"'",U(39),,"/*",(r,l)=>(d((r=>42!==r&&47!==t.charCodeAt(e+1))),d(2),r||o(l)),,"//",(e,t)=>(d((e=>e>=32)),e||o(t)),,"null",e=>e?n("Unexpected literal"):()=>null,,"true",e=>e?n("Unexpected literal"):()=>!0,,"false",e=>e?n("Unexpected literal"):()=>!1,,"undefined",e=>e?n("Unexpected literal"):()=>{},,";",e=>o()||(()=>{}),,"**",(e,t,r=o(13))=>t=>e(t)**r(t),14,"?.",e=>e&&(t=>e(t)||(()=>{})),,"?.",(e,t)=>(i(),(t=d(a))&&(r=>e(r)?.[t])),,"[",e=>!e&&((e=o(0,93))?e.all?t=>e.all(t):t=>[e(t)]:e=>[]),,"{",(e,t)=>!e&&((e=o(0,125))?r=>(t=(e.all||e)(r),Object.fromEntries(e.all?t:[t])):e=>({})),,":",(e,t,l)=>(l=o(1.1)||n(),e.id&&r.pop(),t=>[(e.id||e)(t),l(t)]),1.1],c);export{l as default,x as each3,C as operator};