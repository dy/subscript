let r,e;const t=(t,o)=>(e=t,r=0,o=n(),r<e.length?a():o||a()),a=(t="Bad syntax")=>{throw Error(t+" `"+e[r]+"` at "+r)},o=(t=1,a=r,o=0)=>{if("number"==typeof t)r+=t;else if(t.trim)for(;l()==t.charCodeAt(o++);)r++;else for(;t(l());)r++;return e.slice(a,r)},l=()=>e.charCodeAt(r),n=(e=0,o,l,n,s,c,i)=>{for(;(l=t.space())&&(s=(c=f[l])&&c(n,e)||!n&&(h(l)||p(l)||a()));)n=s;return o&&(l!=o?a("Unclosed paren"):r++),n};t.space=e=>{for(;(e=l())<=32;)r++;return e};const s=t.literal=[],h=(e,t=0,a,o=r)=>{for(;t<s.length;)if(a=s[t++](e),r>o)return()=>a},p=t.id=(r,e)=>(e=o((r=>r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||36==r||95==r||r>=192)),r=>r?r[e]:e),f=[],c=t.operator=(t,a=0,o=0,l,s=t.map&&c(t[1],(t=t[0],0)),h=t.charCodeAt(0),p=t.length,i=o&&f[h],u=o.length)=>(l=u>1?(e,t)=>e&&(r+=p,t=n(s?0:a,s),e.length||t.length?u>2?r=>o(e,t,r):r=>o(e(r),t(r)):(e=o(e(),t()),()=>e)):u?e=>e&&(r+=p,r=>o(e(r))):e=>!e&&(r+=p,e=n(s?0:a-1,s),r=>o(e(r))),f[h]=(o,n)=>n<a&&(p<2||((t=1)=>e.substr(r,t))(p)==t)&&l(o)||i&&i(o,n),h);var i=(r,...e)=>t(r.raw?String.raw(r,...e):r);t.literal.push((r=>(r=o((r=>r>47&&r<58||46==r)))&&((69==l()||101==l())&&(r+=o(2)+o((r=>r>=48&&r<=57))),+r)),((r,e,t)=>34==r&&(o(),t=o((e=>e-r)),o(),t)));for(let r,e=0,a=[",",1,(e,t,a,o=r)=>o?(r=0,(o=1==o?[e(a)]:o).push(t(a)),r=o):t(a),"|",6,(r,e)=>r|e,"||",4,(r,e)=>r||e,"&",8,(r,e)=>r&e,"&&",5,(r,e)=>r&&e,"^",7,(r,e)=>r^e,"==",9,(r,e)=>r==e,"!=",9,(r,e)=>r!=e,">",10,(r,e)=>r>e,">=",10,(r,e)=>r>=e,">>",11,(r,e)=>r>>e,">>>",11,(r,e)=>r>>>e,"<",10,(r,e)=>r<e,"<=",10,(r,e)=>r<=e,"<<",11,(r,e)=>r<<e,"+",12,(r,e)=>r+e,"+",15,(r=0)=>+r,"++",15,(r=0)=>++r,"++",16,r=>r++,"-",12,(r,e)=>r-e,"-",15,(r=0)=>-r,"--",15,(r=0)=>--r,"--",16,r=>r++,"!",15,(r=0)=>!r,"*",13,(r,e)=>r*e,"/",13,(r,e)=>r/e,"%",13,(r,e)=>r%e,["[","]"],18,(r,e)=>r[e],".",18,(r,e,t)=>r(t)[e()],["(",")"],18,(e,t,a,o=r)=>(e=e(a),r=1,t=t(a),t=r.map?e.apply(a,t):e(t),r=o,t),["(",")"],19,(r=0)=>r];e<a.length;)t.operator(a[e++],a[e++],a[e++]);export{i as default};